<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Bonita and Beyond]]></title>
  <link href="http://pozil.github.io/atom.xml" rel="self"/>
  <link href="http://pozil.github.io/"/>
  <updated>2014-10-02T22:24:13+02:00</updated>
  <id>http://pozil.github.io/</id>
  <author>
    <name><![CDATA[Philippe Ozil]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Integrating AngularJS With Bonita BPM]]></title>
    <link href="http://pozil.github.io/blog/2014/09/30/integrating-angularjs-with-bonita-bpm/"/>
    <updated>2014-09-30T11:48:07+02:00</updated>
    <id>http://pozil.github.io/blog/2014/09/30/integrating-angularjs-with-bonita-bpm</id>
    <content type="html"><![CDATA[<div class="grey-container" id="angular_webinars">
    <div class="small-bottom-margin"><b>Note:</b> part of this content is also accessible as a ongoing series of webinars:</div>
    <ul class="small-bottom-margin">
        <li><a href="http://fr.bonitasoft.com/ressources/videos/angularjs-bonita-bpm-le-couple-ideal-pour-vos-processus" target="_blank">French version</a> - <span class="smaller-text">25<sup>th</sup> of September 2014, presented by myself</span></li>
        <li>English version (Not available yet) - <span class="smaller-text">15<sup>th</sup> of October 2014, presented by myself</span></li>
        <li>Spanish version (Not available yet) - <span class="smaller-text">16<sup>th</sup> of October 2014, presented by Olivier D.</span></li>
    </ul>
</div>




<div class="floating-right">
    <img src="http://pozil.github.io/images/bonita_bpm_with_angular.png" alt="Bonita BPM + AngularJS"/>
</div>




<h3>Delivering a Successful Business Application</h3>


<p>One of the key challenges when building a Business Application is to focus your efforts on what is essential to the success of the project.
From my experience, delivering an application with the right user experience stands between your path to success or the UAT (User Acceptance Tests) failure.</p>

<h3>Providing the Right User Experience</h3>


<p>Because Bonita BPM native UIs (Portal and forms) are generic and require no development, they often lack the richness or extensibility that are required to build complex business applications.
In consequence, your best chances in passing UAT in such cases is to work with a custom UI solution.</p>

<p class="small-bottom-margin">A custom UI solution working with Bonita Execution Engine (BEE) relies on a stack of 3 components:</p>


<ul>
    <li>a UI framework</li>
    <li>a Bonita API</li>
    <li>the Bonita Execution Engine (BEE)</li>
</ul>




<h3>Picking the Most Efficient Technologies to Assist You</h3>


<p>There are two main technology choice you will have to take: the Bonita API and a UI framework that you will use.</p>

<h4>Choice 1: the Bonita API</h4>


<p class="small-bottom-margin">There are two possible options in the choice of the Bonita API: the Java API or the REST API.</p>


<table class="pro-cons">
<tr>
    <th></th>
    <th>Java API</th>
    <th>REST API</th>
</tr>
</tr>
    <th>Pros</th>
    <td>- Client library is provided</td>
    <td>- Client or server side execution in web apps<br/>
    - Technology agnostic</td>
</tr>
</tr>
    <th>Cons</th>
    <td>- Server side execution in web apps</td>
    <td>- Custom client library needs to be developped</td>
</tr>
</table>


<p>Based on this comparison we will explore the <b>REST API</b> option in this blog post. The client side execution ability is clearly the key added value of REST however it comes at the cost of requiring you to implement a custom client library but we will address this major con later.</p>

<h4>Choice 2: a UI framework</h4>


<p>There are multiple UI frameworks on the market. It is beyond the scope of this blog post to compare all of them so we will focus only on <b>AngularJS</b>.</p>

<p class="small-bottom-margin">We have selected it for the following reasons:</p>


<ul>
    <li>it is a client-side web framework</li>
    <li>it relies on a globaly supported technology (JS)</li>
    <li>it provides MVC services</li>
    <li>it supports dependency injection</li>
</ul>




<h3>Integrating our Custom UI Solution with Bonita BPM</h3>


<p>Now that we have chosen our implementation technologies (REST API and AngularJS), let&rsquo;s focus on how we can integrate that into Bonita BPM existing UI.</p>

<h4>Communicating between AngularJS and the Bonita REST API</h4>


<p>The first concern we have to address will be to implement an AngularJS client library for the Bonita REST API. Fortunately for you, I have created an open project covering that.</p>

<p class="small-bottom-margin">Let me introduce <a href="https://github.com/rodriguelegall/ngBonita" target="_blank"><b>ngBonita</b></a>, the AngularJS Bonita REST client (disclaimer: this is not an official extension of Bonita BPM). It provides the following:</p>


<ul>
    <li>a set of AngularJS resources mapped to Bonita REST APIs</li>
    <li>efficient queries with support for pagination</li>
    <li>Bonita authentication logic</li>
</ul>


<p>Using it is fairly simple, as shown in the code extract below:</p>

<figure class='code'><figcaption><span>ngBonita code sample</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// Declare a dependency to the ngBonita module in your app</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">appMainModule</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;appMainModule&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ngBonita&#39;</span><span class="p">]);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">appMainModule</span><span class="p">.</span><span class="nx">config</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">bonitaConfigProvider</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// Optional call to override Bonita URL setup</span>
</span><span class='line'>  <span class="nx">bonitaConfigProvider</span><span class="p">.</span><span class="nx">setBonitaUrl</span><span class="p">(</span><span class="s1">&#39;http://localhost:8080/bonita&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Application controller</span>
</span><span class='line'><span class="nx">appMainModule</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">&#39;AppController&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;$scope&#39;</span><span class="p">,</span> <span class="s1">&#39;$log&#39;</span><span class="p">,</span> <span class="s1">&#39;bonitaConfig&#39;</span><span class="p">,</span> <span class="s1">&#39;bonitaAuthentication&#39;</span><span class="p">,</span> <span class="s1">&#39;ProcessDefinition&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$log</span><span class="p">,</span> <span class="nx">bonitaConfig</span><span class="p">,</span> <span class="nx">bonitaAuthentication</span><span class="p">,</span> <span class="nx">ProcessDefinition</span><span class="p">){</span>
</span><span class='line'>  
</span><span class='line'>  <span class="c1">// Log in Bonita</span>
</span><span class='line'>  <span class="nx">bonitaAuthentication</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s1">&#39;walter.bates&#39;</span><span class="p">,</span><span class="s1">&#39;bpm&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="nx">$log</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Logged in as &#39;</span><span class="o">+</span> <span class="nx">bonitaConfig</span><span class="p">.</span><span class="nx">getUsername</span><span class="p">()</span> <span class="o">+</span><span class="s1">&#39; (id=&#39;</span><span class="o">+</span> <span class="nx">bonitaConfig</span><span class="p">.</span><span class="nx">getUserId</span><span class="p">()</span> <span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">);</span>
</span><span class='line'>  
</span><span class='line'>      <span class="c1">// List the user&#39;s apps (process definitions)</span>
</span><span class='line'>      <span class="nx">ProcessDefinition</span><span class="p">.</span><span class="nx">getStartableByCurrentUser</span><span class="p">().</span><span class="nx">$promise</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">processDefinitions</span><span class="p">){</span>
</span><span class='line'>          <span class="nx">$log</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Listing &#39;</span><span class="o">+</span> <span class="nx">processDefinitions</span><span class="p">.</span><span class="nx">totalCount</span> <span class="o">+</span><span class="s1">&#39; process definition(s):&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">processDefinitions</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
</span><span class='line'>              <span class="nx">$log</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;  - &#39;</span><span class="o">+</span> <span class="nx">processDefinitions</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span> <span class="o">+</span><span class="s1">&#39; &#39;</span><span class="o">+</span> <span class="nx">processDefinitions</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">version</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">// Logs out of Bonita</span>
</span><span class='line'>          <span class="nx">bonitaAuthentication</span><span class="p">.</span><span class="nx">logout</span><span class="p">();</span>
</span><span class='line'>      <span class="p">});</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">}]);</span>
</span></code></pre></td></tr></table></div></figure>




<h4>Integrating our AngularJS UI in Bonita Portal</h4>


<p>Now that we have taken care of communicating with Bonita engine, we can focus on our core task: writing our custom UI.</p>

<p>I will not give an AngularJS course in this blog post but I can recommend this excellent course:
<a href="http://campus.codeschool.com/courses/shaping-up-with-angular-js/intro" target="_blank">Code school&rsquo;s Shaping up with Angular.js</a></p>

<p>Once you have written your application as standalone app, you may want to go one step further and to integrate it with the existing Bonita Portal UI.
Hopefully there is a feature for that: <a href="http://documentation.bonitasoft.com/custom-pages" target="_blank">Custom Pages</a> (requires an Efficiency or Performance edition).</p>

<p class="small-bottom-margin">Using a custom page, you will be able to embed you AngularJS app into the Bonita portal just like this:</p>


<p><span class='caption-wrapper'><img class='caption' src='http://pozil.github.io/images/screenshot_bonita_angular_dashboard.png' width='' height='' title='Custom user dashboard integrated in Bonita Portal'><span class='caption-text'>Custom user dashboard integrated in Bonita Portal</span></span></p>

<p>This custom page uses ngBonita and Bootstrap to present a clean user dashboard to users. You can check out the custom page code from <a href="https://github.com/pozil/bonita-angular-dashboard" target="_blank">here</a>.</p>

<h3>Conclusion</h3>


<p>In this blog post I have given you an insight on how to deliver a successful business app by providing the right user experience through a custom UI.
We have seen that one of the most efficient way to achieve that by using AngularJS, ngBonita and the Bonita REST API.</p>

<p>Bonitasoft is focused on investing more in AngularJS and REST in the upcoming releases. Follow this trend and create rich custom UIs in order to deliver successful Business Applications with Bonita BPM.</p>

<h3>Resources</h3>


<ul>
    <li><a href="#angular_webinars">Webinar videos</a> (listed at the top of this post)</li>
    <li><a href="https://github.com/rodriguelegall/ngBonita" target="_blank">ngBonita</a> the AngularJS Bonita REST client</li>
    <li><a href="https://github.com/pozil/bonita-angular-dashboard" target="_blank">Bonita user dashboard</a>  built on AngularJS and integrated as a custom page in the Bonita Portal</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Preface: Who Am I and What Is This Blog About]]></title>
    <link href="http://pozil.github.io/blog/2014/09/29/preface-who-am-i-and-what-is-this-blog-about/"/>
    <updated>2014-09-29T22:02:55+02:00</updated>
    <id>http://pozil.github.io/blog/2014/09/29/preface-who-am-i-and-what-is-this-blog-about</id>
    <content type="html"><![CDATA[<p>First of all, welcome to my blog.</p>

<p>My name is Philippe Ozil, I have been a Consultant for Bonitasoft since 2010 and I have been involved in 80+ customer projects.
Starting from 2014, I have moved to the position of Technical Evangelist.</p>

<p>I am opening this blog to share my experience about working with Bonita BPM, extending it and integrating it with third party technologies.</p>

<p>Enjoy your reading and I hope you will find this content useful.</p>
]]></content>
  </entry>
  
</feed>
